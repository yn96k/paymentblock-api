В базе данных предлагается хранить одну таблицу - лог блокировок/разблокировок.
---
### 1. Таблица client
   Хранит информацию о клиенте, его основные признаки. Предлагается в рамках реализаций функций блокировки добавить атрибут статуса блокировки is_blocked:
   
|Имя атрибута|Тип данных|Описание|
|:----|:----|:----|
|client_id|CHAR(36) PK|UUID клиента|
|client_name|VARCHAR(30) NOT NULL|Название юридического лица|
|ogrn|DECIMAL(13) NOT NULL|ОГРН организации|
|account_num|DECIMAL(20) NOT NULL|Расчетный счет клиента|
|is_blocked|BOOLEAN NOT NULL|Статус блокировки клиента|

Так как запросы приходят по client_id, целесообразно индексировать это поле:

|Индекс|Тип|Столбцы|Порядок|
|:----|:----|:----|:----|
|idx_client_id|UNIQUE|client_id|ASC|

### 2. Таблица block_type
Таблица-словарь типов (причин) блокировки. Отдельная таблица вместо enum позволит гибко изменять список причин.
   
|Имя атрибута|Тип данных|Описание|
|:----|:----|:----|
|block_type_id|INT PK AUTO_INCREMENT|ID причины блокировки|
|block_type_name|VARCHAR(30) NOT NULL|Название причины блокировки|


### 3. Таблица client_block
Хранит список всех заблокированных на данный момент клиентов. Если клиент разблокирован, строка с его UUID удаляется из таблицы.
   
|Имя атрибута|Тип данных|Описание|
|:----|:----|:----|
|client_block_id|INT PK AUTO_INCREMENT|ID блокировки|
|client_id|CHAR(36) FK client(client_id) UNIQUE|UUID клиента|
|block_type_id|INT FK block_type(block_type_id)|ID причины блокировки|
|blocked_at|TIMESTAMP|Дата и время блокировки|
|comment|VARCHAR(50)|Комментарий модератора. Поле позволяет хранить специфичные детали о конкретной блокировке|

Здесь по аналогичным причинам нужно индексировать поле client_id:

|Индекс|Тип|Столбцы|Порядок|
|:----|:----|:----|:----|
|idx_client_id|UNIQUE|client_id|ASC|

